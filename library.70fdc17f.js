function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o),o("bTcpz");var l=e(o("amrNH")).template({1:function(e,t,a,n,o){var l,r=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s="function",d=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n<li class='gallery__item' data-id="+d(typeof(l=null!=(l=c(a,"id")||(null!=t?c(t,"id"):t))?l:i)===s?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:3,column:34},end:{line:3,column:40}}}):l)+">\n    <div class='block__image'>\n        <img class='gallery__image' src='https://image.tmdb.org/t/p/w500"+d(typeof(l=null!=(l=c(a,"poster_path")||(null!=t?c(t,"poster_path"):t))?l:i)===s?l.call(r,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:72},end:{line:5,column:87}}}):l)+"' alt='"+d(typeof(l=null!=(l=c(a,"title")||(null!=t?c(t,"title"):t))?l:i)===s?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:5,column:94},end:{line:5,column:103}}}):l)+"'\n            loading='lazy' />\n    </div>\n    <div class='info_movie'>\n        <h2 class='name_movie'>"+d(typeof(l=null!=(l=c(a,"title")||(null!=t?c(t,"title"):t))?l:i)===s?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:9,column:31},end:{line:9,column:40}}}):l)+"\n        </h2>\n        <p class='genre_movie'>"+d(typeof(l=null!=(l=c(a,"genres")||(null!=t?c(t,"genres"):t))?l:i)===s?l.call(r,{name:"genres",hash:{},data:o,loc:{start:{line:11,column:31},end:{line:11,column:41}}}):l)+d(typeof(l=null!=(l=c(a,"release_date")||(null!=t?c(t,"release_date"):t))?l:i)===s?l.call(r,{name:"release_date",hash:{},data:o,loc:{start:{line:11,column:41},end:{line:11,column:57}}}):l)+"<span class='reting'>"+d(typeof(l=null!=(l=c(a,"vote_average")||(null!=t?c(t,"vote_average"):t))?l:i)===s?l.call(r,{name:"vote_average",hash:{},data:o,loc:{start:{line:11,column:78},end:{line:11,column:95}}}):l)+"</span></p>\n    </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,o){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(a,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?l:""},useData:!0}),r=o("eWCmQ");const i=localStorage.getItem("wathedlist-films"),s=localStorage.getItem("queuee-films"),d=JSON.parse(i),c=JSON.parse(s);console.log(c);const u={buttonLibraryWatched:document.querySelector(".js-library-watch"),buttonLibraryQueue:document.querySelector(".js-library-queue"),containerLibrary:document.querySelector(".js-gallery-library"),buttonLoadMoreWatched:document.querySelector(".watched"),buttonLoadMoreQueue:document.querySelector(".queue")};u.buttonLibraryWatched.style.backgroundColor="#ff6b01",u.buttonLoadMoreWatched.style.display="none",u.buttonLoadMoreQueue.style.display="none";let p=0,m=0;function y(e,t){p=0,m=0,e.length<=6?u.containerLibrary.innerHTML=l(e):(u.containerLibrary.innerHTML=l(e.slice(0,6)),t.style.display="block")}if(console.log(d),d)y(d,u.buttonLoadMoreWatched);else{const e='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      ';u.containerLibrary.innerHTML=e}function f(t,a){p+=6,m+=12,t.length<=p?(a.style.display="none",e(r).Notify.failure("Sorry, no more movies here")):u.containerLibrary.insertAdjacentHTML("beforeend",l(t.slice(p,m)))}u.buttonLoadMoreWatched.addEventListener("click",(()=>f(d,u.buttonLoadMoreWatched))),u.buttonLoadMoreQueue.addEventListener("click",(()=>f(c,u.buttonLoadMoreQueue)));u.buttonLibraryQueue.addEventListener("click",(()=>{if(c)u.buttonLoadMoreWatched.style.display="none",y(c,u.buttonLoadMoreQueue),u.buttonLibraryWatched.style.backgroundColor="transparent",u.buttonLibraryQueue.style.backgroundColor="#ff6b01";else{const e='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      ';u.containerLibrary.innerHTML=e}}));u.buttonLibraryWatched.addEventListener("click",(()=>{if(d)u.buttonLoadMoreQueue.style.display="none",y(d,u.buttonLoadMoreWatched),u.buttonLibraryQueue.style.backgroundColor="transparent",u.buttonLibraryWatched.style.backgroundColor="#ff6b01";else{const e='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      ';u.containerLibrary.innerHTML=e}}));r=o("eWCmQ");var g=o("2IMSy");o("31ngm");var h=o("l2kTn"),b=o("dcQfH");o("ezyJp");var v=o("dCvm9"),_=o("e3GYQ");document.querySelector(".js-search-form");const L=document.querySelector(".js-gallery-library"),S=(document.querySelector(".js-movie-info"),document.querySelector(".js-container-movie")),M=(new(0,g.FilmSearch),new(0,b.Trending),new(0,_.GetFullMovieInfo)),w=(document.querySelector("#search__input"),document.querySelector(".js-Wathed")),q=document.querySelector(".js-Queuee");let j;const k={lines:13,length:38,width:17,radius:45,scale:1,corners:1,speed:1,rotate:1,animation:"spinner-line-fade-more",direction:1,color:"#ff6b01",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"fixed"};L.addEventListener("click",(async t=>{const a=new(0,v.Spinner)(k).spin();if(L.prepend(a.el),"UL"!==t.target.nodeName){M.id=t.target.closest("li").dataset.id;try{const e=await M.fetchFilmsByID();e.data.title&&(e.data.title=e.data.title.toUpperCase()),e.data.original_title&&(e.data.original_title=e.data.original_title.toUpperCase()),e.data.poster_path||(e.data.poster_path="/vkcajIqORuKfd8uV2GYULlHut9o.jpg");const t=[];e.data.genres.map((e=>{t.push(e.name)})),e.data.genres=[...t],S.innerHTML=(0,h.default)(e.data),j=e.data,w.disabled=!1,q.disabled=!1}catch(t){e(r).Notify.failure(console.log(t))}a.stop()}else console.log("miss")})),
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Add local storage!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
w.addEventListener("click",(()=>{!function(t){w.disabled=!0,q.disabled=!0;let a,n,o,l,{genres:i,homepage:s,id:d,original_title:c,poster_path:u,title:p,vote_average:m,vote_count:y,popularity:f,release_date:g}=t;if(a=JSON.parse(localStorage.getItem("wathedlist-films")),n=JSON.parse(localStorage.getItem("queuee-films")),o=a||[],l=n||[],console.log(localStorage.getItem("wathedlist-films")),o.length>0){if(a.find((e=>e.id===d)))return void e(r).Notify.failure("Sorry, this movie has already been added")}if(l.length>0){if(n.find((e=>e.id===d)))return void e(r).Notify.failure("Sorry, this movie has already been added")}i.length>3&&(i=[i[0],i[1],"Оther"]);i=i.join(),g=" |  "+g.slice(0,4);const h={genres:i,homepage:s,id:d,original_title:c,poster_path:u,title:p,vote_average:m,vote_count:y,popularity:f,release_date:g};o.push(h),localStorage.setItem("wathedlist-films",JSON.stringify(o))}(j)})),q.addEventListener("click",(()=>{!function(t){w.disabled=!0,q.disabled=!0;let a,n,o,l,{genres:i,homepage:s,id:d,original_title:c,poster_path:u,title:p,vote_average:m,vote_count:y,popularity:f,release_date:g}=t;if(a=JSON.parse(localStorage.getItem("wathedlist-films")),n=JSON.parse(localStorage.getItem("queuee-films")),o=a||[],l=n||[],o.length>0){if(a.find((e=>e.id===d)))return void e(r).Notify.failure("Sorry, this movie has already been added")}if(l.length>0){if(n.find((e=>e.id===d)))return void e(r).Notify.failure("Sorry, this movie has already been added")}i.length>3&&(i=[i[0],i[1],"Оther"]);i=i.join(),g=" |  "+g.slice(0,4);const h={genres:i,homepage:s,id:d,original_title:c,poster_path:u,title:p,vote_average:m,vote_count:y,popularity:f,release_date:g};l.push(h),localStorage.setItem("queuee-films",JSON.stringify(l))}(j)}));
//# sourceMappingURL=library.70fdc17f.js.map
