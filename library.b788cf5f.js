!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o),o("5xtVg");var r=o("l5bVx"),l=e(o("WMajR")).template({1:function(t,n,a,o,l){var i,d=null!=n?n:t.nullContext||{},u=t.hooks.helperMissing,s="function",c=t.escapeExpression,p=t.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n<li class='gallery__item' data-id="+c((void 0===(i=null!=(i=p(a,"id")||(null!=n?p(n,"id"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"id",hash:{},data:l,loc:{start:{line:3,column:34},end:{line:3,column:40}}}):i)+">\n    <div class='block__image'>\n        <img class='gallery__image' src='https://image.tmdb.org/t/p/w500"+c((void 0===(i=null!=(i=p(a,"poster_path")||(null!=n?p(n,"poster_path"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"poster_path",hash:{},data:l,loc:{start:{line:5,column:72},end:{line:5,column:87}}}):i)+"' alt='"+c((void 0===(i=null!=(i=p(a,"title")||(null!=n?p(n,"title"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"title",hash:{},data:l,loc:{start:{line:5,column:94},end:{line:5,column:103}}}):i)+"'\n            loading='lazy' />\n    </div>\n    <div class='info_movie'>\n        <h2 class='name_movie'>"+c((void 0===(i=null!=(i=p(a,"title")||(null!=n?p(n,"title"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"title",hash:{},data:l,loc:{start:{line:9,column:31},end:{line:9,column:40}}}):i)+"\n        </h2>\n        <p class='genre_movie'>"+c((void 0===(i=null!=(i=p(a,"genres")||(null!=n?p(n,"genres"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"genres",hash:{},data:l,loc:{start:{line:11,column:31},end:{line:11,column:41}}}):i)+c((void 0===(i=null!=(i=p(a,"release_date")||(null!=n?p(n,"release_date"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"release_date",hash:{},data:l,loc:{start:{line:11,column:41},end:{line:11,column:57}}}):i)+"<span class='reting'>"+c((void 0===(i=null!=(i=p(a,"vote_average")||(null!=n?p(n,"vote_average"):n))?i:u)?"undefined":e(r)(i))===s?i.call(d,{name:"vote_average",hash:{},data:l,loc:{start:{line:11,column:78},end:{line:11,column:95}}}):i)+"</span></p>\n    </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?r:""},useData:!0}),i=o("iU1Pc"),d=localStorage.getItem("wathedlist-films"),u=localStorage.getItem("queuee-films"),s=JSON.parse(d),c=JSON.parse(u);console.log(c);var p={buttonLibraryWatched:document.querySelector(".js-library-watch"),buttonLibraryQueue:document.querySelector(".js-library-queue"),containerLibrary:document.querySelector(".js-gallery-library"),buttonLoadMoreWatched:document.querySelector(".watched"),buttonLoadMoreQueue:document.querySelector(".queue")};p.buttonLibraryWatched.style.backgroundColor="#ff6b01",p.buttonLoadMoreWatched.style.display="none",p.buttonLoadMoreQueue.style.display="none";var f=0,m=0;function g(e,t){f=0,m=0,e.length<=6?p.containerLibrary.innerHTML=l(e):(p.containerLibrary.innerHTML=l(e.slice(0,6)),t.style.display="block")}if(console.log(s),s)g(s,p.buttonLoadMoreWatched);else{p.containerLibrary.innerHTML='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      '}function h(t,n){f+=6,m+=12,t.length<=f?(n.style.display="none",e(i).Notify.failure("Sorry, no more movies here")):p.containerLibrary.insertAdjacentHTML("beforeend",l(t.slice(f,m)))}p.buttonLoadMoreWatched.addEventListener("click",(function(){return h(s,p.buttonLoadMoreWatched)})),p.buttonLoadMoreQueue.addEventListener("click",(function(){return h(c,p.buttonLoadMoreQueue)}));p.buttonLibraryQueue.addEventListener("click",(function(){if(c)p.buttonLoadMoreWatched.style.display="none",g(c,p.buttonLoadMoreQueue),p.buttonLibraryWatched.style.backgroundColor="transparent",p.buttonLibraryQueue.style.backgroundColor="#ff6b01";else{p.containerLibrary.innerHTML='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      '}}));p.buttonLibraryWatched.addEventListener("click",(function(){if(s)p.buttonLoadMoreQueue.style.display="none",g(s,p.buttonLoadMoreWatched),p.buttonLibraryQueue.style.backgroundColor="transparent",p.buttonLibraryWatched.style.backgroundColor="#ff6b01";else{p.containerLibrary.innerHTML='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      '}}));var y=o("bpxeT"),v=o("8nrFW"),b=o("2TvXO"),_=(i=o("iU1Pc"),o("IdLUO"));o("ioPGL");var L=o("5HWQb"),S=o("b4XhL");o("twtVq");var M,w,j=o("b62ED"),k=o("6LjOC"),x=(document.querySelector(".js-search-form"),document.querySelector(".js-gallery-library")),q=(document.querySelector(".js-movie-info"),document.querySelector(".js-container-movie")),O=(new(0,_.FilmSearch),new(0,S.Trending),new(0,k.GetFullMovieInfo)),N=(document.querySelector("#search__input"),document.querySelector(".js-Wathed")),W=document.querySelector(".js-Queuee"),I="wathedlist-films",T="queuee-films",C={lines:13,length:38,width:17,radius:45,scale:1,corners:1,speed:1,rotate:1,animation:"spinner-line-fade-more",direction:1,color:"#ff6b01",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"fixed"},Q=(w=e(y)(e(b).mark((function t(n){var a,o,r;return e(b).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new(0,j.Spinner)(C).spin(),x.prepend(a.el),"UL"!==n.target.nodeName){t.next=5;break}return console.log("miss"),t.abrupt("return");case 5:return O.id=n.target.closest("li").dataset.id,t.prev=6,t.next=9,O.fetchFilmsByID();case 9:(o=t.sent).data.title&&(o.data.title=o.data.title.toUpperCase()),o.data.original_title&&(o.data.original_title=o.data.original_title.toUpperCase()),o.data.poster_path||(o.data.poster_path="/vkcajIqORuKfd8uV2GYULlHut9o.jpg"),r=[],o.data.genres.map((function(e){r.push(e.name)})),o.data.genres=e(v)(r),q.innerHTML=(0,L.default)(o.data),M=o.data,N.disabled=!1,W.disabled=!1,t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),e(i).Notify.failure(console.log(t.t0));case 25:a.stop();case 26:case"end":return t.stop()}}),t,null,[[6,22]])}))),function(e){return w.apply(this,arguments)});x.addEventListener("click",Q),
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Add local storage!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
N.addEventListener("click",(function(){!function(t){N.disabled=!0,W.disabled=!0;var n,a,o,r,l=t.genres,d=t.homepage,u=t.id,s=t.original_title,c=t.poster_path,p=t.title,f=t.vote_average,m=t.vote_count,g=t.popularity,h=t.release_date;if(n=JSON.parse(localStorage.getItem(I)),a=JSON.parse(localStorage.getItem(T)),o=n||[],r=a||[],console.log(localStorage.getItem(I)),o.length>0){if(n.find((function(e){return e.id===u})))return void e(i).Notify.failure("Sorry, this movie has already been added")}if(r.length>0){if(a.find((function(e){return e.id===u})))return void e(i).Notify.failure("Sorry, this movie has already been added")}l.length>3&&(l=[l[0],l[1],"Оther"]);l=l.join(),h=" |  "+h.slice(0,4);var y={genres:l,homepage:d,id:u,original_title:s,poster_path:c,title:p,vote_average:f,vote_count:m,popularity:g,release_date:h};o.push(y),localStorage.setItem(I,JSON.stringify(o))}(M)})),W.addEventListener("click",(function(){!function(t){N.disabled=!0,W.disabled=!0;var n,a,o,r=t.genres,l=t.homepage,d=t.id,u=t.original_title,s=t.poster_path,c=t.title,p=t.vote_average,f=t.vote_count,m=t.popularity,g=t.release_date;if(n=JSON.parse(localStorage.getItem(I)),a=JSON.parse(localStorage.getItem(T)),o=a||[],(n||[]).length>0){if(n.find((function(e){return e.id===d})))return void e(i).Notify.failure("Sorry, this movie has already been added")}if(o.length>0){if(a.find((function(e){return e.id===d})))return void e(i).Notify.failure("Sorry, this movie has already been added")}r.length>3&&(r=[r[0],r[1],"Оther"]);r=r.join(),g=" |  "+g.slice(0,4);var h={genres:r,homepage:l,id:d,original_title:u,poster_path:s,title:c,vote_average:p,vote_count:f,popularity:m,release_date:g};o.push(h),localStorage.setItem(T,JSON.stringify(o))}(M)}))}();
//# sourceMappingURL=library.b788cf5f.js.map
